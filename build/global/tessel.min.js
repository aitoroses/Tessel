!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports.Tessel=e(require("react")):t.Tessel=e(t.React)}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";t.exports=n(1)},function(t,e,n){"use strict";function r(t){var e={data:t||{}},n=new s["default"],r=new h["default"](e);return n.set(r.get().data),r.on("update",function(){n.set(r.get().data)}),[n,r]}var i=function(t){return t&&t.__esModule?t:{"default":t}},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var a=n(2),s=i(a),c=n(3),f=i(c),l=n(8),h=i(l),p=n(4),d=i(p),_=n(5),v=i(_),y=n(6),m=function(){function t(e){var n=this;o(this,t),this._internal=r(e),this.deferredRun=t.deferredRun.bind(this),this._history=[],this._historyIndex=null,Object.defineProperty(this,"internalData",{get:function(){return n._internal[1].get().data},set:function(t){return n._internal[1].get().data.reset(t)}})}return u(t,[{key:"mixin",get:function(){return d["default"].call(this)}},{key:"Component",get:function(){return v["default"].call(this)}},{key:"set",value:function(t){this.internalData=t}},{key:"get",value:function(){return this._internal[0].get()}},{key:"dehydrate",value:function(){return JSON.stringify(this.internalData)}},{key:"rehydrate",value:function(t){this.internalData=JSON.parse(t)}},{key:"commit",value:function(t){if(this._history.length){var e=null!=t&&t>=0&&t<this._history.length?t:this._history.length-1;this._historyIndex=e;var n=this._history[e];this.set(n)}}},{key:"save",value:function(){this._history.length>9&&this._history.shift(),this._history.push(this.internalData),this.commit()}},{key:"undo",value:function(){return this._history.length&&this._historyIndex>=0?void this.commit(this._historyIndex-1):!1}},{key:"redo",value:function(){return this._history.length&&this._historyIndex>=0?void this.commit(this._historyIndex+1):!1}}],[{key:"createActions",value:y.createActions,enumerable:!0},{key:"createAsyncActions",value:y.createAsyncActions,enumerable:!0},{key:"Tracker",value:f["default"],enumerable:!0},{key:"autorun",value:function(){return f["default"].autorun.apply(this,arguments)}},{key:"createVar",value:function(t){return new s["default"](t)}},{key:"deferredRun",value:function(){for(var e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];var i,o;2==n.length?(i=n[0],o=n[1]):(i=this._internal[0],o=n[0]);var u=0,a=t.autorun(function(){var t=i.get();u>0?o(t):u++});return a}},{key:"flush",value:function(){Object.keys(f["default"]._computations).forEach(function(t){return f["default"]._computations[t].stop()})}}]),t}();e["default"]=m,t.exports=e["default"]},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(3),u=r(o);i=function(t,e){return this instanceof i?(this.curValue=t,this.equalsFunc=e,void(this.dep=new u["default"].Dependency)):new i(t,e)},i._isEqual=function(t,e){var n=t,r=e;return n!==r?!1:!n||"number"==typeof n||"boolean"==typeof n||"string"==typeof n},i.prototype.get=function(){return u["default"].active&&this.dep.depend(),this.curValue},i.prototype.set=function(t){var e=this.curValue;(this.equalsFunc||i._isEqual)(e,t)||(this.curValue=t,this.dep.changed())},i.prototype.toString=function(){return"ReactiveVar{"+this.get()+"}"},i.prototype._numListeners=function(){var t=0;for(var e in this.dep._dependentsById)t++;return t},e["default"]=i,t.exports=e["default"]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r;r={},r.active=!1,r.currentComputation=null,r._computations={};var i=function(t){r.currentComputation=t,r.active=!!t},o=function(){return"undefined"!=typeof Meteor?Meteor._debug:"undefined"!=typeof console&&console.error?function(){console.error.apply(console,arguments)}:function(){}},u=function(t){"undefined"!=typeof Meteor&&Meteor._supressed_log_expected()&&Meteor._suppress_log(t-1)},a=function(t,e){if(d)throw e;var n=["Exception from Tracker "+t+" function:"];if(e.stack&&e.message&&e.name){var r=e.stack.indexOf(e.message);if(0>r||r>e.name.length+2){var i=e.name+": "+e.message;n.push(i)}}n.push(e.stack),u(n.length);for(var a=0;a<n.length;a++)o()(n[a])},s=function(t){return"undefined"==typeof Meteor||Meteor.isClient?t:function(){var e=arguments;Meteor._noYieldsAllowed(function(){t.apply(null,e)})}},c=1,f=[],l=!1,h=!1,p=!1,d=!1,_=[],v=function(){l||("undefined"!=typeof Meteor?Meteor._setImmediate(r._runFlush):setTimeout(r._runFlush,0),l=!0)},y=!1;r.Computation=function(t,e,n){if(!y)throw new Error("Tracker.Computation constructor is private; use Tracker.autorun");y=!1;var i=this;i.stopped=!1,i.invalidated=!1,i.firstRun=!0,i._id=c++,i._onInvalidateCallbacks=[],i._parent=e,i._func=t,i._onError=n,i._recomputing=!1,r._computations[i._id]=i;var o=!0;try{i._compute(),o=!1}finally{i.firstRun=!1,o&&i.stop()}},r.Computation.prototype.onInvalidate=function(t){var e=this;if("function"!=typeof t)throw new Error("onInvalidate requires a function");e.invalidated?r.nonreactive(function(){s(t)(e)}):e._onInvalidateCallbacks.push(t)},r.Computation.prototype.invalidate=function(){var t=this;if(!t.invalidated){t._recomputing||t.stopped||(v(),f.push(this)),t.invalidated=!0;for(var e,n=0;e=t._onInvalidateCallbacks[n];n++)r.nonreactive(function(){s(e)(t)});t._onInvalidateCallbacks=[]}},r.Computation.prototype.stop=function(){this.stopped||(this.stopped=!0,this.invalidate(),delete r._computations[this._id])},r.Computation.prototype._compute=function(){var t=this;t.invalidated=!1;var e=r.currentComputation;i(t);var n=p;p=!0;try{s(t._func)(t)}finally{i(e),p=n}},r.Computation.prototype._needsRecompute=function(){var t=this;return t.invalidated&&!t.stopped},r.Computation.prototype._recompute=function(){var t=this;t._recomputing=!0;try{if(t._needsRecompute())try{t._compute()}catch(e){t._onError?t._onError(e):a("recompute",e)}}finally{t._recomputing=!1}},r.Dependency=function(){this._dependentsById={}},r.Dependency.prototype.depend=function(t){if(!t){if(!r.active)return!1;t=r.currentComputation}var e=this,n=t._id;return n in e._dependentsById?!1:(e._dependentsById[n]=t,t.onInvalidate(function(){delete e._dependentsById[n]}),!0)},r.Dependency.prototype.changed=function(){var t=this;for(var e in t._dependentsById)t._dependentsById[e].invalidate()},r.Dependency.prototype.hasDependents=function(){var t=this;for(var e in t._dependentsById)return!0;return!1},r.flush=function(t){r._runFlush({finishSynchronously:!0,throwFirstError:t&&t._throwFirstError})},r._runFlush=function(t){if(h)throw new Error("Can't call Tracker.flush while flushing");if(p)throw new Error("Can't flush inside Tracker.autorun");t=t||{},h=!0,l=!0,d=!!t.throwFirstError;var e=0,n=!1;try{for(;f.length||_.length;){for(;f.length;){var i=f.shift();if(i._recompute(),i._needsRecompute()&&f.unshift(i),!t.finishSynchronously&&++e>1e3)return void(n=!0)}if(_.length){var o=_.shift();try{o()}catch(u){a("afterFlush",u)}}}n=!0}finally{if(n||(h=!1,r._runFlush({finishSynchronously:t.finishSynchronously,throwFirstError:!1})),l=!1,h=!1,f.length||_.length){if(t.finishSynchronously)throw new Error("still have more to do?");setTimeout(v,10)}}},r.autorun=function(t,e){if("function"!=typeof t)throw new Error("Tracker.autorun requires a function argument");e=e||{},y=!0;var n=new r.Computation(t,r.currentComputation,e.onError);return r.active&&r.onInvalidate(function(){n.stop()}),n},r.nonreactive=function(t){var e=r.currentComputation;i(null);try{return t()}finally{i(e)}},r.onInvalidate=function(t){if(!r.active)throw new Error("Tracker.onInvalidate requires a currentComputation");r.currentComputation.onInvalidate(t)},r.afterFlush=function(t){_.push(t),v()},e["default"]=r,t.exports=e["default"]},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{"default":t}},i=n(1),o=r(i);t.exports=function(){var t=this,e={getInitialState:function(){return t.get()},componentDidMount:function(){var e=this,n=this._computations=this._computations||[],r=o["default"].autorun(function(){e.setState(t.get())});n.push(r)},componentWillUnmount:function(){this._computations.forEach(function(t){return t.stop()})}};return e}},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{"default":t}},i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},u=n(7),a=r(u),s=n(10);t.exports=function(){var t=this.mixin,e=function(e){function n(){i(this,r),null!=e&&e.apply(this,arguments)}o(n,e);var r=n;return n=s.decorate(t)(n)||n}(a["default"].Component);return e}},function(t,e,n){"use strict";function r(t){var e={};return Array.isArray(t)?t.forEach(function(t){e[t]=o()}):Object.keys(t).forEach(function(n){e[n]=o(t[n])}),e}function i(t){var e={};return Array.isArray(t)?t.forEach(function(t){e[t]=o.async()}):Object.keys(t).forEach(function(n){e[n]=o.async(t[n])}),e}Object.defineProperty(e,"__esModule",{value:!0}),e.createActions=r,e.createAsyncActions=i;var o=n(9)},function(e,n,r){e.exports=t},function(t,e,n){"use strict";var r=n(11);t.exports=r},function(t,e,n){"use strict";function r(t,e){function n(t){return n.emit(t)}return n._listeners=[],t&&u(n,t),u(n,e)}function i(t){return r(t,i.methods)}function o(t){return u(r(t,o.methods),i.methods)}function u(t,e){for(var n in e)if(e.hasOwnProperty(n)){if(t.hasOwnProperty(n))continue;t[n]=e[n]}return t}i.methods={_cb:function(t,e){return function(n,r){return t.call(e,n,r)}},_listen:function(t,e,n){var r=this._cb(t,e);this._listeners.push(r),r.ctx=e,r.fn=t,r.once=n;var i=this;return function(){var t=i._listeners.indexOf(r);return-1===t?!1:(i._listeners.splice(t,1),!0)}},listenOnce:function(t,e){return this._listen(t,e,!0)},listen:function(t,e){return this._listen(t,e,!1)},unlisten:function(t,e){for(var n=0;n<this._listeners.length;n++){var r=this._listeners[n];if(r.fn===t&&r.ctx===e)return this._listeners.splice(n,1),!0}return!1},shouldEmit:function(){return!0},beforeEmit:function(t){return t},_beforeEmit:function(t){return t},_afterEmit:function(t){return t},emit:function(t){t=this.beforeEmit(t);var e=this._beforeEmit(t),n=e;if(!this.shouldEmit(t))return n;for(var r=0;r<this._listeners.length;r++){var i=this._listeners[r];n=i(t,n,e),i.once&&(this._listeners.splice(r,1),r-=1)}return n=this._afterEmit(n,e)}},o.methods={_cb:function(t,e){return function(n,r,i){return r.then(function(r){return i._cancelled?Promise.reject(new Error("rejected")):t.call(e,n,r)})}},_beforeEmit:function(t){return u(Promise.resolve(t),{_cancelled:!1})},_afterEmit:function(t,e){return u(t.then(function(t){return e._cancelled?Promise.reject(new Error("rejected")):t}),{cancel:function(){e._cancelled=!0},cancelled:function(){return e._cancelled}})}},i.async=o,t.exports=i},function(t,e,n){"use strict";function r(t){var e=t.getDefaultProps;e&&(t.defaultProps=e(),delete t.getDefaultProps)}function i(t){function e(t){var e=t.state||{};a(e,n.call(t)),t.state=e}var n=t.getInitialState,r=t.componentWillMount;n&&(r?t.componentWillMount=function(){e(this),r.call(this)}:t.componentWillMount=function(){e(this)},delete t.getInitialState)}function o(t,e){r(e),i(e);var n={},o={};Object.keys(e).forEach(function(t){"function"==typeof e[t]?n[t]=e[t]:o[t]=e[t]}),s(t.prototype,n),u({childContextTypes:u.MANY_MERGED_LOOSE,contextTypes:u.MANY_MERGED_LOOSE,propTypes:u.MANY_MERGED_LOOSE,defaultProps:u.MANY_MERGED_LOOSE})(t,o)}var u=n(16),a=n(17),s=u({componentDidMount:u.MANY,componentWillMount:u.MANY,componentWillReceiveProps:u.MANY,shouldComponentUpdate:u.ONCE,componentWillUpdate:u.MANY,componentDidUpdate:u.MANY,componentWillUnmount:u.MANY,getChildContext:u.MANY_MERGED});t.exports=function(){return reactMixin=s,reactMixin.onClass=function(t,e){o(t,e)},reactMixin.decorate=function(t){return function(e){return reactMixin.onClass(e,t)}},reactMixin}()},function(t,e,n){"use strict";var r=n(12),i=n(13),o=(n(14),n(15)),u=function(t,e){var n,i=this,u=function(t,e,n){return"listener"==t?o.createListener(e):o.update(t,e,n)},a=function(){};e||(a=function(t){Object.freeze(t)}),n=o.freeze(t,u,a);var s=n.getListener(),c=!1;s.on("immediate",function(t,e){t==n&&(n=e,c||(c=!0,r.nextTick(function(){c=!1,i.trigger("update",n)})))}),r.addNE(this,{get:function(){return n},set:function(t){var e=u("reset",n,t);e.__.listener.trigger("immediate",n,e)}}),r.addNE(this,{getData:this.get,setData:this.set}),this._events=[]};u.prototype=r.createNonEnumerable({},i),t.exports=u},function(t,e,n){"use strict";var r=new Function("return this")(),i={extend:function(t,e){for(var n in e)t[n]=e[n];return t},createNonEnumerable:function(t,e){var n={};for(var r in t)n[r]={value:t[r]};return Object.create(e||{},n)},error:function(t){var e=new Error(t);if(console)return console.error(e);throw e},each:function(t,e){var n,r,i;if(t&&t.constructor==Array)for(n=0,r=t.length;r>n;n++)e(t[n],n);else for(i=Object.keys(t),n=0,r=i.length;r>n;n++)e(t[i[n]],i[n])},addNE:function(t,e){for(var n in e)Object.defineProperty(t,n,{enumerable:!1,configurable:!0,writable:!0,value:e[n]})},nextTick:function(){function t(){for(;n=i.shift();)n();o=!1}function e(t){i.push(t),o||(o=!0,s())}var n,i=[],o=!1,u=!!r.postMessage,a="nexttick",s=function(){return u?function(){r.postMessage(a,"*")}:function(){setTimeout(function(){c()},0)}}(),c=function(){return u?function(e){e.source===r&&e.data===a&&(e.stopPropagation(),t())}:t}();return u&&r.addEventListener("message",c,!0),e.removeListener=function(){r.removeEventListener("message",c,!0)},e}()};t.exports=i},function(t,e,n){"use strict";var r=n(12),i={on:function(t,e,n){var r=this._events[t]||[];return r.push({callback:e,once:n}),this._events[t]=r,this},once:function(t,e){this.on(t,e,!0)},off:function(t,e){if("undefined"==typeof t)this._events={};else if("undefined"==typeof e)this._events[t]=[];else{var n,r=this._events[t]||[];for(n=r.length-1;n>=0;n--)r[n]===e&&r.splice(n,1)}return this},trigger:function(t){var e,n,r=[].slice.call(arguments,1),i=this._events[t]||[],o=[];for(e=0;e<i.length;e++)n=i[e],n.callback?n.callback.apply(null,r):n.once=!0,n.once&&o.push(e);for(e=o.length-1;e>=0;e--)i.splice(o[e],1);return this}},o=r.createNonEnumerable(i);t.exports=o},function(t,e,n){"use strict";var r=n(12),i=function(t){var e={};for(var n in t)e[n]={writable:!0,configurable:!0,enumerable:!1,value:t[n]};return e},o={set:function(t,e){var n=t,r=this.__.trans;if("undefined"!=typeof e&&(n={},n[t]=e),!r){for(var i in n)r=r||this[i]!=n[i];if(!r)return this}return this.__.notify("merge",this,n)},reset:function(t){return this.__.notify("replace",this,t)},getListener:function(){return this.__.notify("listener",this)},toJS:function(){var t;return t=this.constructor==Array?new Array(this.length):{},r.each(this,function(e,n){e&&e.__?t[n]=e.toJS():t[n]=e}),t},transact:function(){return this.__.notify("transact",this)},run:function(){return this.__.notify("run",this)}},u=r.extend({push:function(t){return this.append([t])},append:function(t){return t&&t.length?this.__.notify("splice",this,[this.length,0].concat(t)):this},pop:function(){return this.length?this.__.notify("splice",this,[this.length-1,1]):this},unshift:function(t){return this.prepend([t])},prepend:function(t){return t&&t.length?this.__.notify("splice",this,[0,0].concat(t)):this},shift:function(){return this.length?this.__.notify("splice",this,[0,1]):this},splice:function(t,e,n){return this.__.notify("splice",this,arguments)}},o),a=Object.create(Array.prototype,i(u)),s={Hash:Object.create(Object.prototype,i(r.extend({remove:function(t){var e=[],n=t;t.constructor!=Array&&(n=[t]);for(var r=0,i=n.length;i>r;r++)this.hasOwnProperty(n[r])&&e.push(n[r]);return e.length?this.__.notify("remove",this,e):this}},o))),List:a,arrayMethods:u};t.exports=s},function(t,e,n){"use strict";var r=n(12),i=n(14),o=n(13),u={freeze:function(t,e,n){if(t&&t.__)return t;var o,u,a=this;return o=t.constructor==Array?this.createArray(t.length):Object.create(i.Hash),r.addNE(o,{__:{listener:!1,parents:[],notify:e,dirty:!1,freezeFn:n}}),r.each(t,function(t,r){u=t&&t.constructor,(u==Array||u==Object)&&(t=a.freeze(t,e,n)),t&&t.__&&a.addParent(t,o),o[r]=t}),n(o),o},update:function(t,e,n){return this[t]?this[t](e,n):r.error("Unknown update type: "+t)},reset:function(t,e){var n,i=this;return e&&e.__?(n=e,n.__.listener=e.__.listener,n.__.parents=[],this.fixChildren(n,t),r.each(n,function(e){e&&e.__&&(i.removeParent(t),i.addParent(e,n))})):n=this.freeze(t,t.__.notify,t.__.freezeFn),n},merge:function(t,e){var n=t.__.trans;if(n){for(var i in e)n[i]=e[i];return t}var o,u,a,s,c=this,f=this.copyMeta(t),l=t.__.notify;r.each(t,function(n,r){return s=n&&n.__,s&&c.removeParent(n,t),(o=e[r])?(u=o&&o.constructor,(u==Array||u==Object)&&(o=c.freeze(o,l,t.__.freezeFn)),o&&o.__&&c.addParent(o,f),delete e[r],void(f[r]=o)):(s&&c.addParent(n,f),f[r]=n)});for(a in e)o=e[a],u=o&&o.constructor,(u==Array||u==Object)&&(o=c.freeze(o,l,t.__.freezeFn)),o&&o.__&&c.addParent(o,f),f[a]=o;return t.__.freezeFn(f),this.refreshParents(t,f),f},replace:function(t,e){var n=this,r=e&&e.constructor,i=t.__,o=e;(r==Array||r==Object)&&(o=n.freeze(e,i.notify,i.freezeFn),o.__.parents=i.parents,i.listener&&(o.__.listener=t.__.listener),o.__.listener&&this.trigger(o,"update",o));for(var u=i.parents.length-1;u>=0;u--)0==u?this.refresh(i.parents[u],t,o,!1):this.markDirty(i.parents[u],[t,o]);return o},remove:function(t,e){var n=t.__.trans;if(n){for(var i=e.length-1;i>=0;i--)delete n[e[i]];return t}var o,u=this,a=this.copyMeta(t);return r.each(t,function(n,r){o=n&&n.__,o&&u.removeParent(n,t),-1==e.indexOf(r)&&(o&&u.addParent(n,a),a[r]=n)}),t.__.freezeFn(a),this.refreshParents(t,a),a},splice:function(t,e){var n=t.__.trans;if(n)return n.splice.apply(n,e),t;var i,o,u=this,a=this.copyMeta(t),s=e[0],c=s+e[1],f=t.__;if(r.each(t,function(e,n){e&&e.__&&(u.removeParent(e,t),(s>n||n>=c)&&u.addParent(e,a)),a[n]=e}),e.length>1)for(var l=e.length-1;l>=2;l--)o=e[l],i=o&&o.constructor,(i==Array||i==Object)&&(o=this.freeze(o,f.notify,f.freezeFn)),o&&o.__&&this.addParent(o,a),e[l]=o;return Array.prototype.splice.apply(a,e),t.__.freezeFn(a),this.refreshParents(t,a),a},transact:function(t){var e,n=this,i=t.__.trans;return i?i:(e=t.constructor==Array?[]:{},r.each(t,function(t,n){e[n]=t}),t.__.trans=e,r.nextTick(function(){t.__.trans&&n.run(t)}),e)},run:function(t){var e=this,n=t.__.trans;if(!n)return t;r.each(n,function(n,r){n&&n.__&&e.removeParent(n,t)}),delete t.__.trans;var i=this.replace(t,n);return i},refresh:function(t,e,n,i){var o=this,u=t.__.trans,a=0;if(u)return r.each(u,function(r,i){a||r==e&&(u[i]=n,a=1,n&&n.__&&o.addParent(n,t))}),t;var s,c,f,l=this.copyMeta(t),h=t.__.dirty;return h&&(s=h[0],c=h[1]),r.each(t,function(r,i){r==e?r=n:r==s&&(r=c),r&&(f=r.__)&&(!f.trans&&f.dirty&&(r=o.refresh(r,f.dirty[0],f.dirty[1],!0)),o.removeParent(r,t),o.addParent(r,l)),l[i]=r}),t.__.freezeFn(l),t.__.dirty=!1,i?l:void this.refreshParents(t,l)},fixChildren:function(t,e){var n=this;r.each(t,function(r){if(r&&r.__){if(-1!=r.__.parents.indexOf(t))return n.fixChildren(r);if(1==r.__.parents.length)return r.__.parents=[t];e&&n.removeParent(r,e),n.addParent(t)}})},copyMeta:function(t){var e;e=t.constructor==Array?this.createArray(t.length):Object.create(i.Hash);var n=t.__;return r.addNE(e,{__:{notify:n.notify,listener:n.listener,parents:n.parents.slice(0),trans:n.trans,dirty:!1,freezeFn:n.freezeFn}}),e},refreshParents:function(t,e){var n,r=t.__;if(r.listener&&this.trigger(e,"update",e),r.parents.length)for(n=r.parents.length-1;n>=0;n--)0==n?this.refresh(r.parents[n],t,e,!1):this.markDirty(r.parents[n],[t,e]);else r.listener&&r.listener.trigger("immediate",t,e)},markDirty:function(t,e){var n,r=t.__;for(r.dirty=e,r.trans&&this.refresh(t,e[0],e[1]),n=r.parents.length-1;n>=0;n--)this.markDirty(r.parents[n],e)},removeParent:function(t,e){var n=t.__.parents,r=n.indexOf(e);-1!=r&&n.splice(r,1)},addParent:function(t,e){var n=t.__.parents,r=n.indexOf(e);-1==r&&(n[n.length]=e)},trigger:function(t,e,n){var i=t.__.listener,o=i.ticking;i.ticking=n,o||r.nextTick(function(){var t=i.ticking;i.ticking=!1,i.trigger(e,t)})},createListener:function(t){var e=t.__.listener;return e||(e=Object.create(o,{_events:{value:{},writable:!0}}),t.__.listener=e),e},createArray:function(){return[].__proto__?function(t){var e=new Array(t);return e.__proto__=i.List,e}:function(t){var e=new Array(t),n=i.arrayMethods;for(var r in n)e[r]=n[r];return e}}()};t.exports=u},function(t,e,n){"use strict";var r=function(t){return Object.prototype.toString.call(t)},i=function(t){throw t},o=t.exports=function(t,e){function n(t,e,n){e in t?t[e]=n:Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}var i=e||{};return i.unknownFunction||(i.unknownFunction=o.ONCE),i.nonFunctionProperty||(i.nonFunctionProperty=function(t,e,n){if(void 0!==t&&void 0!==e){var i=function(t){return t&&t.constructor&&t.constructor.name?t.constructor.name:r(t).slice(8,-1)};throw new TypeError("Cannot mixin key "+n+" because it is provided by multiple sources, and the types are "+i(t)+" and "+i(e))}return void 0===t?e:t}),function(e,r){Object.keys(r).forEach(function(o){var u=e[o],a=r[o],s=t[o];if(void 0!==u||void 0!==a){var c=function(t){return"function"!=typeof t?t:function(){return t.call(this,arguments)}};if(s){var f=s(u,a,o);return void n(e,o,c(f))}var l="function"==typeof u,h="function"==typeof a;return l&&void 0===a||h&&void 0===u||l&&h?void n(e,o,c(i.unknownFunction(u,a,o))):void(e[o]=i.nonFunctionProperty(u,a,o))}})}};o._mergeObjects=function(t,e){var n=function(t,e){var n=r(t);if("[object Object]"!==n){var o=t.constructor?t.constructor.name:"Unknown",u=e.constructor?e.constructor.name:"Unknown";i("cannot merge returned value of type "+o+" with an "+u)}};if(Array.isArray(t)&&Array.isArray(e))return t.concat(e);n(t,e),n(e,t);var o={};return Object.keys(t).forEach(function(n){Object.prototype.hasOwnProperty.call(e,n)&&i("cannot merge returns because both have the "+JSON.stringify(n)+" key"),o[n]=t[n]}),Object.keys(e).forEach(function(t){o[t]=e[t]}),o},o.ONCE=function(t,e,n){if(t&&e)throw new TypeError("Cannot mixin "+n+" because it has a unique constraint.");var r=t||e;return function(t){return r.apply(this,t)}},o.MANY=function(t,e,n){return function(n){return e&&e.apply(this,n),t?t.apply(this,n):void 0}},o.MANY_MERGED_LOOSE=function(t,e,n){return t&&e?o._mergeObjects(t,e):t||e},o.MANY_MERGED=function(t,e,n){return function(n){var r=e&&e.apply(this,n),i=t&&t.apply(this,n);return r&&i?o._mergeObjects(r,i):i||r}},o.REDUCE_LEFT=function(t,e,n){var r=t||function(){return x},i=e||function(t){return t};return function(t){return i.call(this,r.apply(this,t))}},o.REDUCE_RIGHT=function(t,e,n){var r=t||function(){return x},i=e||function(t){return t};return function(t){return r.call(this,i.apply(this,t))}}},function(t,e,n){"use strict";function r(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=Object.assign||function(t,e){for(var n,i,o=r(t),u=1;u<arguments.length;u++){n=arguments[u],i=Object.keys(Object(n));for(var a=0;a<i.length;a++)o[i[a]]=n[i[a]]}return o}}])});