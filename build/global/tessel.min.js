!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports.Tessel=e(require("react")):t.Tessel=e(t.React)}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";t.exports=n(1)},function(t,e,n){"use strict";function r(t){var e={data:t||{}},n=new u["default"],r=new h["default"](e);return n.set(r.get().data),r.on("update",function(){n.set(r.get().data)}),[n,r]}var i=function(t){return t&&t.__esModule?t:{"default":t}},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0});var a=n(2),u=i(a),c=n(3),f=i(c),l=n(9),h=i(l),p=n(4),_=i(p),d=n(5),v=i(d),y=n(6),m=n(7),g=function(){function t(e){var n=this;o(this,t),this.createStore=m.createStore,this._internal=r(e),this.deferredRun=t.deferredRun.bind(this),this._history=[],this._historyIndex=null,Object.defineProperty(this,"internalData",{get:function(){return n._internal[1].get().data},set:function(t){return n._internal[1].get().data.reset(t)}})}return s(t,[{key:"createStore",value:void 0,enumerable:!0},{key:"mixin",get:function(){return _["default"].call(this)}},{key:"Component",get:function(){return v["default"].call(this)}},{key:"set",value:function(t){this.internalData=t}},{key:"get",value:function(){return this._internal[0].get()}},{key:"dehydrate",value:function(){return JSON.stringify(this.internalData)}},{key:"rehydrate",value:function(t){this.internalData=JSON.parse(t)}},{key:"commit",value:function(t){if(this._history.length){var e=null!=t&&t>=0&&t<this._history.length?t:this._history.length-1;this._historyIndex=e;var n=this._history[e];this.set(n)}}},{key:"save",value:function(){this._history.length>9&&this._history.shift(),this._history.push(this.internalData),this.commit()}},{key:"undo",value:function(){return this._history.length&&this._historyIndex>=0?void this.commit(this._historyIndex-1):!1}},{key:"redo",value:function(){return this._history.length&&this._historyIndex>=0?void this.commit(this._historyIndex+1):!1}}],[{key:"createActions",value:y.createActions,enumerable:!0},{key:"createAsyncActions",value:y.createAsyncActions,enumerable:!0},{key:"Tracker",value:f["default"],enumerable:!0},{key:"autorun",value:function(){return f["default"].autorun.apply(this,arguments)}},{key:"createVar",value:function(t){return new u["default"](t)}},{key:"deferredRun",value:function(){for(var e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];var i,o;2==n.length?(i=n[0],o=n[1]):(i=this._internal[0],o=n[0]);var s=0,a=t.autorun(function(){var t=i.get();s>0?o(t):s++});return a}},{key:"flush",value:function(){Object.keys(f["default"]._computations).forEach(function(t){return f["default"]._computations[t].stop()})}}]),t}();e["default"]=g,t.exports=e["default"]},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(3),s=r(o);i=function(t,e){return this instanceof i?(this.curValue=t,this.equalsFunc=e,void(this.dep=new s["default"].Dependency)):new i(t,e)},i._isEqual=function(t,e){var n=t,r=e;return n!==r?!1:!n||"number"==typeof n||"boolean"==typeof n||"string"==typeof n},i.prototype.get=function(){return s["default"].active&&this.dep.depend(),this.curValue},i.prototype.set=function(t){var e=this.curValue;(this.equalsFunc||i._isEqual)(e,t)||(this.curValue=t,this.dep.changed())},i.prototype.toString=function(){return"ReactiveVar{"+this.get()+"}"},i.prototype._numListeners=function(){var t=0;for(var e in this.dep._dependentsById)t++;return t},e["default"]=i,t.exports=e["default"]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r;r={},r.active=!1,r.currentComputation=null,r._computations={};var i=function(t){r.currentComputation=t,r.active=!!t},o=function(){return"undefined"!=typeof Meteor?Meteor._debug:"undefined"!=typeof console&&console.error?function(){console.error.apply(console,arguments)}:function(){}},s=function(t){"undefined"!=typeof Meteor&&Meteor._supressed_log_expected()&&Meteor._suppress_log(t-1)},a=function(t,e){if(_)throw e;var n=["Exception from Tracker "+t+" function:"];if(e.stack&&e.message&&e.name){var r=e.stack.indexOf(e.message);if(0>r||r>e.name.length+2){var i=e.name+": "+e.message;n.push(i)}}n.push(e.stack),s(n.length);for(var a=0;a<n.length;a++)o()(n[a])},u=function(t){return"undefined"==typeof Meteor||Meteor.isClient?t:function(){var e=arguments;Meteor._noYieldsAllowed(function(){t.apply(null,e)})}},c=1,f=[],l=!1,h=!1,p=!1,_=!1,d=[],v=function(){l||("undefined"!=typeof Meteor?Meteor._setImmediate(r._runFlush):setTimeout(r._runFlush,0),l=!0)},y=!1;r.Computation=function(t,e,n){if(!y)throw new Error("Tracker.Computation constructor is private; use Tracker.autorun");y=!1;var i=this;i.stopped=!1,i.invalidated=!1,i.firstRun=!0,i._id=c++,i._onInvalidateCallbacks=[],i._parent=e,i._func=t,i._onError=n,i._recomputing=!1,r._computations[i._id]=i;var o=!0;try{i._compute(),o=!1}finally{i.firstRun=!1,o&&i.stop()}},r.Computation.prototype.onInvalidate=function(t){var e=this;if("function"!=typeof t)throw new Error("onInvalidate requires a function");e.invalidated?r.nonreactive(function(){u(t)(e)}):e._onInvalidateCallbacks.push(t)},r.Computation.prototype.invalidate=function(){var t=this;if(!t.invalidated){t._recomputing||t.stopped||(v(),f.push(this)),t.invalidated=!0;for(var e,n=0;e=t._onInvalidateCallbacks[n];n++)r.nonreactive(function(){u(e)(t)});t._onInvalidateCallbacks=[]}},r.Computation.prototype.stop=function(){this.stopped||(this.stopped=!0,this.invalidate(),delete r._computations[this._id])},r.Computation.prototype._compute=function(){var t=this;t.invalidated=!1;var e=r.currentComputation;i(t);var n=p;p=!0;try{u(t._func)(t)}finally{i(e),p=n}},r.Computation.prototype._needsRecompute=function(){var t=this;return t.invalidated&&!t.stopped},r.Computation.prototype._recompute=function(){var t=this;t._recomputing=!0;try{if(t._needsRecompute())try{t._compute()}catch(e){t._onError?t._onError(e):a("recompute",e)}}finally{t._recomputing=!1}},r.Dependency=function(){this._dependentsById={}},r.Dependency.prototype.depend=function(t){if(!t){if(!r.active)return!1;t=r.currentComputation}var e=this,n=t._id;return n in e._dependentsById?!1:(e._dependentsById[n]=t,t.onInvalidate(function(){delete e._dependentsById[n]}),!0)},r.Dependency.prototype.changed=function(){var t=this;for(var e in t._dependentsById)t._dependentsById[e].invalidate()},r.Dependency.prototype.hasDependents=function(){var t=this;for(var e in t._dependentsById)return!0;return!1},r.flush=function(t){r._runFlush({finishSynchronously:!0,throwFirstError:t&&t._throwFirstError})},r._runFlush=function(t){if(h)throw new Error("Can't call Tracker.flush while flushing");if(p)throw new Error("Can't flush inside Tracker.autorun");t=t||{},h=!0,l=!0,_=!!t.throwFirstError;var e=0,n=!1;try{for(;f.length||d.length;){for(;f.length;){var i=f.shift();if(i._recompute(),i._needsRecompute()&&f.unshift(i),!t.finishSynchronously&&++e>1e3)return void(n=!0)}if(d.length){var o=d.shift();try{o()}catch(s){a("afterFlush",s)}}}n=!0}finally{if(n||(h=!1,r._runFlush({finishSynchronously:t.finishSynchronously,throwFirstError:!1})),l=!1,h=!1,f.length||d.length){if(t.finishSynchronously)throw new Error("still have more to do?");setTimeout(v,10)}}},r.autorun=function(t,e){if("function"!=typeof t)throw new Error("Tracker.autorun requires a function argument");e=e||{},y=!0;var n=new r.Computation(t,r.currentComputation,e.onError);return r.active&&r.onInvalidate(function(){n.stop()}),n},r.nonreactive=function(t){var e=r.currentComputation;i(null);try{return t()}finally{i(e)}},r.onInvalidate=function(t){if(!r.active)throw new Error("Tracker.onInvalidate requires a currentComputation");r.currentComputation.onInvalidate(t)},r.afterFlush=function(t){d.push(t),v()},e["default"]=r,t.exports=e["default"]},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{"default":t}},i=n(1),o=r(i);t.exports=function(){var t=this,e={getInitialState:function(){return t.get()},componentDidMount:function(){var e=this,n=this._computations=this._computations||[],r=o["default"].autorun(function(){e.setState(t.get())});n.push(r)},componentWillUnmount:function(){this._computations.forEach(function(t){return t.stop()})}};return e}},function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t:{"default":t}},i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},s=n(8),a=r(s),u=n(10);t.exports=function(){var t=this.mixin,e=function(e){function n(){i(this,r),null!=e&&e.apply(this,arguments)}o(n,e);var r=n;return n=u.decorate(t)(n)||n}(a["default"].Component);return e}},function(t,e,n){"use strict";function r(t){var e={};return Array.isArray(t)?t.forEach(function(t){e[t]=o()}):Object.keys(t).forEach(function(n){e[n]=o(t[n])}),e}function i(t){var e={};return Array.isArray(t)?t.forEach(function(t){e[t]=o.async()}):Object.keys(t).forEach(function(n){e[n]=o.async(t[n])}),e}Object.defineProperty(e,"__esModule",{value:!0}),e.createActions=r,e.createAsyncActions=i;var o=n(11)},function(t,e,n){"use strict";function r(t){function e(e){Object.getOwnPropertyNames(e).forEach(function(n){"constructor"!=n&&(t.prototype[n]=e[n])})}var n=new h(this);e(h.prototype),e(n);var r=new t;return r}var i=function(t){return t&&t.__esModule?t:{"default":t}},o=function(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:null==e||"undefined"==typeof Symbol||e.constructor!==Symbol,configurable:!0,writable:!0})},s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Object.defineProperty(e,"__esModule",{value:!0}),e.createStore=r;var u=n(13),c=i(u),f=n(1),l=i(f),h=function(){function t(e){s(this,t),this._emitter=new c["default"],this._tessel=e}return a(t,[{key:"bindState",value:function(t){var e=this,n=this.state;Object.defineProperty(this,"state",{get:function(){return e._tessel.internalData[t]},set:function(n){return n?(e._lastState=e.state,e._tessel.internalData.set(o({},t,n))):void 0}}),this.state=n,this._lastState=this.state;var r=this;r._tessel._internal[1].on("update",function(){r.state!==r._lastState&&r._emitter.emit("update")})}},{key:"on",value:function(){this._emitter.on.apply(this._emitter,arguments)}},{key:"createActions",value:function(t){var e=this,n=t.prototype,r=Object.getOwnPropertyNames(n).filter(function(t){return"constructor"!=t}),i=l["default"].createAsyncActions(r);return r.forEach(function(t){i[t].listen(function(r){return new Promise(function(){for(var i=arguments.length,o=Array(i),s=0;i>s;s++)o[s]=arguments[s];n[t].apply(e.state,[r].concat(o))})})}),i}},{key:"getStateDescriptor",value:function(){var t=this;return Object.defineProperties({},{state:{get:function(){return t.state},set:function(e){return t.state=e},configurable:!0,enumerable:!0}})}}]),t}()},function(e,n,r){e.exports=t},function(t,e,n){var r=n(12);t.exports=r},function(t,e,n){function r(t){var e=t.getDefaultProps;e&&(t.defaultProps=e(),delete t.getDefaultProps)}function i(t){function e(t){var e=t.state||{};a(e,n.call(t)),t.state=e}var n=t.getInitialState,r=t.componentWillMount;n&&(r?t.componentWillMount=function(){e(this),r.call(this)}:t.componentWillMount=function(){e(this)},delete t.getInitialState)}function o(t,e){r(e),i(e);var n={},o={};Object.keys(e).forEach(function(t){"function"==typeof e[t]?n[t]=e[t]:o[t]=e[t]}),u(t.prototype,n),s({childContextTypes:s.MANY_MERGED_LOOSE,contextTypes:s.MANY_MERGED_LOOSE,propTypes:s.MANY_MERGED_LOOSE,defaultProps:s.MANY_MERGED_LOOSE})(t,o)}var s=n(18),a=n(19),u=s({componentDidMount:s.MANY,componentWillMount:s.MANY,componentWillReceiveProps:s.MANY,shouldComponentUpdate:s.ONCE,componentWillUpdate:s.MANY,componentDidUpdate:s.MANY,componentWillUnmount:s.MANY,getChildContext:s.MANY_MERGED});t.exports=function(){return reactMixin=u,reactMixin.onClass=function(t,e){o(t,e)},reactMixin.decorate=function(t){return function(e){return reactMixin.onClass(e,t)}},reactMixin}()},function(t,e,n){"use strict";function r(t,e){function n(t){return n.emit(t)}return n._listeners=[],t&&s(n,t),s(n,e)}function i(t){return r(t,i.methods)}function o(t){return s(r(t,o.methods),i.methods)}function s(t,e){for(var n in e)if(e.hasOwnProperty(n)){if(t.hasOwnProperty(n))continue;t[n]=e[n]}return t}i.methods={_cb:function(t,e){return function(n,r){return t.call(e,n,r)}},_listen:function(t,e,n){var r=this._cb(t,e);this._listeners.push(r),r.ctx=e,r.fn=t,r.once=n;var i=this;return function(){var t=i._listeners.indexOf(r);return-1===t?!1:(i._listeners.splice(t,1),!0)}},listenOnce:function(t,e){return this._listen(t,e,!0)},listen:function(t,e){return this._listen(t,e,!1)},unlisten:function(t,e){for(var n=0;n<this._listeners.length;n++){var r=this._listeners[n];if(r.fn===t&&r.ctx===e)return this._listeners.splice(n,1),!0}return!1},shouldEmit:function(){return!0},beforeEmit:function(t){return t},_beforeEmit:function(t){return t},_afterEmit:function(t){return t},emit:function(t){t=this.beforeEmit(t);var e=this._beforeEmit(t),n=e;if(!this.shouldEmit(t))return n;for(var r=0;r<this._listeners.length;r++){var i=this._listeners[r];n=i(t,n,e),i.once&&(this._listeners.splice(r,1),r-=1)}return n=this._afterEmit(n,e)}},o.methods={_cb:function(t,e){return function(n,r,i){return r.then(function(r){return i._cancelled?Promise.reject(new Error("rejected")):t.call(e,n,r)})}},_beforeEmit:function(t){return s(Promise.resolve(t),{_cancelled:!1})},_afterEmit:function(t,e){return s(t.then(function(t){return e._cancelled?Promise.reject(new Error("rejected")):t}),{cancel:function(){e._cancelled=!0},cancelled:function(){return e._cancelled}})}},i.async=o,t.exports=i},function(t,e,n){"use strict";var r=n(14),i=n(15),o=(n(16),n(17)),s=function(t,e){var n,i=this,s=function(t,e,n){return"listener"==t?o.createListener(e):o.update(t,e,n)},a=function(){};e||(a=function(t){Object.freeze(t)}),n=o.freeze(t,s,a);var u=n.getListener(),c=!1;u.on("immediate",function(t,e){t==n&&(n=e,c||(c=!0,r.nextTick(function(){c=!1,i.trigger("update",n)})))}),r.addNE(this,{get:function(){return n},set:function(t){var e=s("reset",n,t);e.__.listener.trigger("immediate",n,e)}}),r.addNE(this,{getData:this.get,setData:this.set}),this._events=[]};s.prototype=r.createNonEnumerable({},i),t.exports=s},function(t,e,n){var r;!function(i){function o(){this._events={},this._conf&&s.call(this,this._conf)}function s(t){t&&(this._conf=t,t.delimiter&&(this.delimiter=t.delimiter),t.maxListeners&&(this._events.maxListeners=t.maxListeners),t.wildcard&&(this.wildcard=t.wildcard),t.newListener&&(this.newListener=t.newListener),this.wildcard&&(this.listenerTree={}))}function a(t){this._events={},this.newListener=!1,s.call(this,t)}function u(t,e,n,r){if(!n)return[];var i,o,s,a,c,f,l,h=[],p=e.length,_=e[r],d=e[r+1];if(r===p&&n._listeners){if("function"==typeof n._listeners)return t&&t.push(n._listeners),[n];for(i=0,o=n._listeners.length;o>i;i++)t&&t.push(n._listeners[i]);return[n]}if("*"===_||"**"===_||n[_]){if("*"===_){for(s in n)"_listeners"!==s&&n.hasOwnProperty(s)&&(h=h.concat(u(t,e,n[s],r+1)));return h}if("**"===_){l=r+1===p||r+2===p&&"*"===d,l&&n._listeners&&(h=h.concat(u(t,e,n,p)));for(s in n)"_listeners"!==s&&n.hasOwnProperty(s)&&("*"===s||"**"===s?(n[s]._listeners&&!l&&(h=h.concat(u(t,e,n[s],p))),h=h.concat(u(t,e,n[s],r))):h=h.concat(s===d?u(t,e,n[s],r+2):u(t,e,n[s],r)));return h}h=h.concat(u(t,e,n[_],r+1))}if(a=n["*"],a&&u(t,e,a,r+1),c=n["**"])if(p>r){c._listeners&&u(t,e,c,p);for(s in c)"_listeners"!==s&&c.hasOwnProperty(s)&&(s===d?u(t,e,c[s],r+2):s===_?u(t,e,c[s],r+1):(f={},f[s]=c[s],u(t,e,{"**":f},r+1)))}else c._listeners?u(t,e,c,p):c["*"]&&c["*"]._listeners&&u(t,e,c["*"],p);return h}function c(t,e){t="string"==typeof t?t.split(this.delimiter):t.slice();for(var n=0,r=t.length;r>n+1;n++)if("**"===t[n]&&"**"===t[n+1])return;for(var i=this.listenerTree,o=t.shift();o;){if(i[o]||(i[o]={}),i=i[o],0===t.length){if(i._listeners){if("function"==typeof i._listeners)i._listeners=[i._listeners,e];else if(f(i._listeners)&&(i._listeners.push(e),!i._listeners.warned)){var s=l;"undefined"!=typeof this._events.maxListeners&&(s=this._events.maxListeners),s>0&&i._listeners.length>s&&(i._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",i._listeners.length),console.trace())}}else i._listeners=e;return!0}o=t.shift()}return!0}var f=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},l=10;a.prototype.delimiter=".",a.prototype.setMaxListeners=function(t){this._events||o.call(this),this._events.maxListeners=t,this._conf||(this._conf={}),this._conf.maxListeners=t},a.prototype.event="",a.prototype.once=function(t,e){return this.many(t,1,e),this},a.prototype.many=function(t,e,n){function r(){0===--e&&i.off(t,r),n.apply(this,arguments)}var i=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");return r._origin=n,this.on(t,r),i},a.prototype.emit=function(){this._events||o.call(this);var t=arguments[0];if("newListener"===t&&!this.newListener&&!this._events.newListener)return!1;if(this._all){for(var e=arguments.length,n=new Array(e-1),r=1;e>r;r++)n[r-1]=arguments[r];for(r=0,e=this._all.length;e>r;r++)this.event=t,this._all[r].apply(this,n)}if("error"===t&&!(this._all||this._events.error||this.wildcard&&this.listenerTree.error))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");var i;if(this.wildcard){i=[];var s="string"==typeof t?t.split(this.delimiter):t.slice();u.call(this,i,s,this.listenerTree,0)}else i=this._events[t];if("function"==typeof i){if(this.event=t,1===arguments.length)i.call(this);else if(arguments.length>1)switch(arguments.length){case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:for(var e=arguments.length,n=new Array(e-1),r=1;e>r;r++)n[r-1]=arguments[r];i.apply(this,n)}return!0}if(i){for(var e=arguments.length,n=new Array(e-1),r=1;e>r;r++)n[r-1]=arguments[r];for(var a=i.slice(),r=0,e=a.length;e>r;r++)this.event=t,a[r].apply(this,n);return a.length>0||!!this._all}return!!this._all},a.prototype.on=function(t,e){if("function"==typeof t)return this.onAny(t),this;if("function"!=typeof e)throw new Error("on only accepts instances of Function");if(this._events||o.call(this),this.emit("newListener",t,e),this.wildcard)return c.call(this,t,e),this;if(this._events[t]){if("function"==typeof this._events[t])this._events[t]=[this._events[t],e];else if(f(this._events[t])&&(this._events[t].push(e),!this._events[t].warned)){var n=l;"undefined"!=typeof this._events.maxListeners&&(n=this._events.maxListeners),n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),console.trace())}}else this._events[t]=e;return this},a.prototype.onAny=function(t){if("function"!=typeof t)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),this._all.push(t),this},a.prototype.addListener=a.prototype.on,a.prototype.off=function(t,e){if("function"!=typeof e)throw new Error("removeListener only takes instances of Function");var n,r=[];if(this.wildcard){var i="string"==typeof t?t.split(this.delimiter):t.slice();r=u.call(this,null,i,this.listenerTree,0)}else{if(!this._events[t])return this;n=this._events[t],r.push({_listeners:n})}for(var o=0;o<r.length;o++){var s=r[o];if(n=s._listeners,f(n)){for(var a=-1,c=0,l=n.length;l>c;c++)if(n[c]===e||n[c].listener&&n[c].listener===e||n[c]._origin&&n[c]._origin===e){a=c;break}if(0>a)continue;return this.wildcard?s._listeners.splice(a,1):this._events[t].splice(a,1),0===n.length&&(this.wildcard?delete s._listeners:delete this._events[t]),this}(n===e||n.listener&&n.listener===e||n._origin&&n._origin===e)&&(this.wildcard?delete s._listeners:delete this._events[t])}return this},a.prototype.offAny=function(t){var e,n=0,r=0;if(t&&this._all&&this._all.length>0){for(e=this._all,n=0,r=e.length;r>n;n++)if(t===e[n])return e.splice(n,1),this}else this._all=[];return this},a.prototype.removeListener=a.prototype.off,a.prototype.removeAllListeners=function(t){if(0===arguments.length)return!this._events||o.call(this),this;if(this.wildcard)for(var e="string"==typeof t?t.split(this.delimiter):t.slice(),n=u.call(this,null,e,this.listenerTree,0),r=0;r<n.length;r++){var i=n[r];i._listeners=null}else{if(!this._events[t])return this;this._events[t]=null}return this},a.prototype.listeners=function(t){if(this.wildcard){var e=[],n="string"==typeof t?t.split(this.delimiter):t.slice();return u.call(this,e,n,this.listenerTree,0),e}return this._events||o.call(this),this._events[t]||(this._events[t]=[]),f(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]},a.prototype.listenersAny=function(){return this._all?this._all:[]},r=function(){return a}.call(e,n,e,t),!(r!==i&&(t.exports=r))}()},function(t,e,n){"use strict";var r=new Function("return this")(),i={extend:function(t,e){for(var n in e)t[n]=e[n];return t},createNonEnumerable:function(t,e){var n={};for(var r in t)n[r]={value:t[r]};return Object.create(e||{},n)},error:function(t){var e=new Error(t);if(console)return console.error(e);throw e},each:function(t,e){var n,r,i;if(t&&t.constructor==Array)for(n=0,r=t.length;r>n;n++)e(t[n],n);else for(i=Object.keys(t),n=0,r=i.length;r>n;n++)e(t[i[n]],i[n])},addNE:function(t,e){for(var n in e)Object.defineProperty(t,n,{enumerable:!1,configurable:!0,writable:!0,value:e[n]})},nextTick:function(){function t(){for(;n=i.shift();)n();o=!1}function e(t){i.push(t),o||(o=!0,u())}var n,i=[],o=!1,s=!!r.postMessage,a="nexttick",u=function(){return s?function(){r.postMessage(a,"*")}:function(){setTimeout(function(){c()},0)}}(),c=function(){return s?function(e){e.source===r&&e.data===a&&(e.stopPropagation(),t())}:t}();return s&&r.addEventListener("message",c,!0),e.removeListener=function(){r.removeEventListener("message",c,!0)},e}()};t.exports=i},function(t,e,n){"use strict";var r=n(14),i={on:function(t,e,n){var r=this._events[t]||[];return r.push({callback:e,once:n}),this._events[t]=r,this},once:function(t,e){this.on(t,e,!0)},off:function(t,e){if("undefined"==typeof t)this._events={};else if("undefined"==typeof e)this._events[t]=[];else{var n,r=this._events[t]||[];for(n=r.length-1;n>=0;n--)r[n]===e&&r.splice(n,1)}return this},trigger:function(t){var e,n,r=[].slice.call(arguments,1),i=this._events[t]||[],o=[];for(e=0;e<i.length;e++)n=i[e],n.callback?n.callback.apply(null,r):n.once=!0,n.once&&o.push(e);for(e=o.length-1;e>=0;e--)i.splice(o[e],1);return this}},o=r.createNonEnumerable(i);t.exports=o},function(t,e,n){"use strict";var r=n(14),i=function(t){var e={};for(var n in t)e[n]={writable:!0,configurable:!0,enumerable:!1,value:t[n]};return e},o={set:function(t,e){var n=t,r=this.__.trans;if("undefined"!=typeof e&&(n={},n[t]=e),!r){for(var i in n)r=r||this[i]!=n[i];if(!r)return this}return this.__.notify("merge",this,n)},reset:function(t){return this.__.notify("replace",this,t)},getListener:function(){return this.__.notify("listener",this)},toJS:function(){var t;return t=this.constructor==Array?new Array(this.length):{},r.each(this,function(e,n){e&&e.__?t[n]=e.toJS():t[n]=e}),t},transact:function(){return this.__.notify("transact",this)},run:function(){return this.__.notify("run",this)}},s=r.extend({push:function(t){return this.append([t])},append:function(t){return t&&t.length?this.__.notify("splice",this,[this.length,0].concat(t)):this},pop:function(){return this.length?this.__.notify("splice",this,[this.length-1,1]):this},unshift:function(t){return this.prepend([t])},prepend:function(t){return t&&t.length?this.__.notify("splice",this,[0,0].concat(t)):this},shift:function(){return this.length?this.__.notify("splice",this,[0,1]):this},splice:function(t,e,n){return this.__.notify("splice",this,arguments)}},o),a=Object.create(Array.prototype,i(s)),u={Hash:Object.create(Object.prototype,i(r.extend({remove:function(t){var e=[],n=t;t.constructor!=Array&&(n=[t]);for(var r=0,i=n.length;i>r;r++)this.hasOwnProperty(n[r])&&e.push(n[r]);return e.length?this.__.notify("remove",this,e):this}},o))),List:a,arrayMethods:s};t.exports=u},function(t,e,n){"use strict";var r=n(14),i=n(16),o=n(15),s={freeze:function(t,e,n){if(t&&t.__)return t;var o,s,a=this;return o=t.constructor==Array?this.createArray(t.length):Object.create(i.Hash),r.addNE(o,{__:{listener:!1,parents:[],notify:e,dirty:!1,freezeFn:n}}),r.each(t,function(t,r){s=t&&t.constructor,(s==Array||s==Object)&&(t=a.freeze(t,e,n)),t&&t.__&&a.addParent(t,o),o[r]=t}),n(o),o},update:function(t,e,n){return this[t]?this[t](e,n):r.error("Unknown update type: "+t)},reset:function(t,e){var n,i=this;return e&&e.__?(n=e,n.__.listener=e.__.listener,n.__.parents=[],this.fixChildren(n,t),r.each(n,function(e){e&&e.__&&(i.removeParent(t),i.addParent(e,n))})):n=this.freeze(t,t.__.notify,t.__.freezeFn),n},merge:function(t,e){var n=t.__.trans;if(n){for(var i in e)n[i]=e[i];return t}var o,s,a,u,c=this,f=this.copyMeta(t),l=t.__.notify;r.each(t,function(n,r){return u=n&&n.__,u&&c.removeParent(n,t),(o=e[r])?(s=o&&o.constructor,(s==Array||s==Object)&&(o=c.freeze(o,l,t.__.freezeFn)),o&&o.__&&c.addParent(o,f),delete e[r],void(f[r]=o)):(u&&c.addParent(n,f),f[r]=n)});for(a in e)o=e[a],s=o&&o.constructor,(s==Array||s==Object)&&(o=c.freeze(o,l,t.__.freezeFn)),o&&o.__&&c.addParent(o,f),f[a]=o;return t.__.freezeFn(f),this.refreshParents(t,f),f},replace:function(t,e){var n=this,r=e&&e.constructor,i=t.__,o=e;(r==Array||r==Object)&&(o=n.freeze(e,i.notify,i.freezeFn),o.__.parents=i.parents,i.listener&&(o.__.listener=t.__.listener),o.__.listener&&this.trigger(o,"update",o));for(var s=i.parents.length-1;s>=0;s--)0==s?this.refresh(i.parents[s],t,o,!1):this.markDirty(i.parents[s],[t,o]);return o},remove:function(t,e){var n=t.__.trans;if(n){for(var i=e.length-1;i>=0;i--)delete n[e[i]];return t}var o,s=this,a=this.copyMeta(t);return r.each(t,function(n,r){o=n&&n.__,o&&s.removeParent(n,t),-1==e.indexOf(r)&&(o&&s.addParent(n,a),a[r]=n)}),t.__.freezeFn(a),this.refreshParents(t,a),a},splice:function(t,e){var n=t.__.trans;if(n)return n.splice.apply(n,e),t;var i,o,s=this,a=this.copyMeta(t),u=e[0],c=u+e[1],f=t.__;if(r.each(t,function(e,n){e&&e.__&&(s.removeParent(e,t),(u>n||n>=c)&&s.addParent(e,a)),a[n]=e}),e.length>1)for(var l=e.length-1;l>=2;l--)o=e[l],i=o&&o.constructor,(i==Array||i==Object)&&(o=this.freeze(o,f.notify,f.freezeFn)),o&&o.__&&this.addParent(o,a),e[l]=o;return Array.prototype.splice.apply(a,e),t.__.freezeFn(a),this.refreshParents(t,a),a},transact:function(t){var e,n=this,i=t.__.trans;return i?i:(e=t.constructor==Array?[]:{},r.each(t,function(t,n){e[n]=t}),t.__.trans=e,r.nextTick(function(){t.__.trans&&n.run(t)}),e)},run:function(t){var e=this,n=t.__.trans;if(!n)return t;r.each(n,function(n,r){n&&n.__&&e.removeParent(n,t)}),delete t.__.trans;var i=this.replace(t,n);return i},refresh:function(t,e,n,i){var o=this,s=t.__.trans,a=0;if(s)return r.each(s,function(r,i){a||r==e&&(s[i]=n,a=1,n&&n.__&&o.addParent(n,t))}),t;var u,c,f,l=this.copyMeta(t),h=t.__.dirty;return h&&(u=h[0],c=h[1]),r.each(t,function(r,i){r==e?r=n:r==u&&(r=c),r&&(f=r.__)&&(!f.trans&&f.dirty&&(r=o.refresh(r,f.dirty[0],f.dirty[1],!0)),o.removeParent(r,t),o.addParent(r,l)),l[i]=r}),t.__.freezeFn(l),t.__.dirty=!1,i?l:void this.refreshParents(t,l)},fixChildren:function(t,e){var n=this;r.each(t,function(r){if(r&&r.__){if(-1!=r.__.parents.indexOf(t))return n.fixChildren(r);if(1==r.__.parents.length)return r.__.parents=[t];e&&n.removeParent(r,e),n.addParent(t)}})},copyMeta:function(t){var e;e=t.constructor==Array?this.createArray(t.length):Object.create(i.Hash);var n=t.__;return r.addNE(e,{__:{notify:n.notify,listener:n.listener,parents:n.parents.slice(0),trans:n.trans,dirty:!1,freezeFn:n.freezeFn}}),e},refreshParents:function(t,e){var n,r=t.__;if(r.listener&&this.trigger(e,"update",e),r.parents.length)for(n=r.parents.length-1;n>=0;n--)0==n?this.refresh(r.parents[n],t,e,!1):this.markDirty(r.parents[n],[t,e]);else r.listener&&r.listener.trigger("immediate",t,e)},markDirty:function(t,e){var n,r=t.__;for(r.dirty=e,r.trans&&this.refresh(t,e[0],e[1]),n=r.parents.length-1;n>=0;n--)this.markDirty(r.parents[n],e)},removeParent:function(t,e){var n=t.__.parents,r=n.indexOf(e);-1!=r&&n.splice(r,1)},addParent:function(t,e){var n=t.__.parents,r=n.indexOf(e);-1==r&&(n[n.length]=e)},trigger:function(t,e,n){var i=t.__.listener,o=i.ticking;i.ticking=n,o||r.nextTick(function(){var t=i.ticking;i.ticking=!1,i.trigger(e,t)})},createListener:function(t){var e=t.__.listener;return e||(e=Object.create(o,{_events:{value:{},writable:!0}}),t.__.listener=e),e},createArray:function(){return[].__proto__?function(t){var e=new Array(t);return e.__proto__=i.List,e}:function(t){var e=new Array(t),n=i.arrayMethods;for(var r in n)e[r]=n[r];return e}}()};t.exports=s},function(t,e,n){var r=function(t){return Object.prototype.toString.call(t)},i=function(t){throw t},o=t.exports=function(t,e){function n(t,e,n){e in t?t[e]=n:Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}var i=e||{};return i.unknownFunction||(i.unknownFunction=o.ONCE),i.nonFunctionProperty||(i.nonFunctionProperty=function(t,e,n){if(void 0!==t&&void 0!==e){var i=function(t){return t&&t.constructor&&t.constructor.name?t.constructor.name:r(t).slice(8,-1)};throw new TypeError("Cannot mixin key "+n+" because it is provided by multiple sources, and the types are "+i(t)+" and "+i(e))}return void 0===t?e:t}),function(e,r){Object.keys(r).forEach(function(o){var s=e[o],a=r[o],u=t[o];if(void 0!==s||void 0!==a){var c=function(t){return"function"!=typeof t?t:function(){return t.call(this,arguments)}};if(u){var f=u(s,a,o);return void n(e,o,c(f))}var l="function"==typeof s,h="function"==typeof a;return l&&void 0===a||h&&void 0===s||l&&h?void n(e,o,c(i.unknownFunction(s,a,o))):void(e[o]=i.nonFunctionProperty(s,a,o))}})}};o._mergeObjects=function(t,e){var n=function(t,e){var n=r(t);if("[object Object]"!==n){var o=t.constructor?t.constructor.name:"Unknown",s=e.constructor?e.constructor.name:"Unknown";i("cannot merge returned value of type "+o+" with an "+s)}};if(Array.isArray(t)&&Array.isArray(e))return t.concat(e);n(t,e),n(e,t);var o={};return Object.keys(t).forEach(function(n){Object.prototype.hasOwnProperty.call(e,n)&&i("cannot merge returns because both have the "+JSON.stringify(n)+" key"),o[n]=t[n]}),Object.keys(e).forEach(function(t){o[t]=e[t]}),o},o.ONCE=function(t,e,n){if(t&&e)throw new TypeError("Cannot mixin "+n+" because it has a unique constraint.");var r=t||e;return function(t){return r.apply(this,t)}},o.MANY=function(t,e,n){return function(n){return e&&e.apply(this,n),t?t.apply(this,n):void 0}},o.MANY_MERGED_LOOSE=function(t,e,n){return t&&e?o._mergeObjects(t,e):t||e},o.MANY_MERGED=function(t,e,n){return function(n){var r=e&&e.apply(this,n),i=t&&t.apply(this,n);

return r&&i?o._mergeObjects(r,i):i||r}},o.REDUCE_LEFT=function(t,e,n){var r=t||function(){return x},i=e||function(t){return t};return function(t){return i.call(this,r.apply(this,t))}},o.REDUCE_RIGHT=function(t,e,n){var r=t||function(){return x},i=e||function(t){return t};return function(t){return r.call(this,i.apply(this,t))}}},function(t,e,n){"use strict";function r(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=Object.assign||function(t,e){for(var n,i,o=r(t),s=1;s<arguments.length;s++){n=arguments[s],i=Object.keys(Object(n));for(var a=0;a<i.length;a++)o[i[a]]=n[i[a]]}return o}}])});